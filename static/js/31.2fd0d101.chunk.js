"use strict";(self.webpackChunkreact_redux_photo_app=self.webpackChunkreact_redux_photo_app||[]).push([[31],{1031:function(e,o,n){n.r(o),n.d(o,{default:function(){return w}});n(2791);var t=n(6871),l=n(184);function a(e){var o=e.title,n=e.backgroundUrl,t=n?{backgroundImage:"url(".concat(n,")")}:{};return(0,l.jsx)("section",{className:"banner",style:t,children:(0,l.jsx)("h1",{className:"banner__title",children:o})})}a.defaultProps={title:"",backgroundUrl:""};var i=a,r=n(7121),s=n(3504),c={ORANGE_BG:n(4622),BLUE_BG:n(2565),COLORFUL_BG:n(7622),PINK_BG:n(5605)},d=n(6030);function u(e){var o=e.photo,n=e.onEditClick,t=e.onRemoveClick;return(0,l.jsxs)("div",{className:"photo",children:[(0,l.jsx)("img",{src:o.photo,alt:o.title}),(0,l.jsxs)("div",{className:"photo__overlay",children:[(0,l.jsx)("h3",{className:"photo__title",children:o.title}),(0,l.jsxs)("div",{className:"photo__actions",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r.zx,{outline:!0,size:"sm",color:"light",onClick:function(){n&&n(o)},children:"Edit"})}),(0,l.jsx)("div",{children:(0,l.jsx)(r.zx,{outline:!0,size:"sm",color:"danger",onClick:function(){t&&t(o)},children:"Remove"})})]})]})]})}u.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var h=u;function p(e){var o=e.photoList,n=e.onPhotoEditClick,t=e.onPhotoRemoveClick;return(0,l.jsx)(r.X2,{children:o.map((function(e){return(0,l.jsx)(r.JX,{xs:"12",md:"6",lg:"3",children:(0,l.jsx)(h,{onRemoveClick:t,onEditClick:n,photo:e})},e.title)}))})}p.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var m=p,x=n(1408);var v=function(e){var o=(0,d.v9)((function(e){return e.photos})),n=(0,t.s0)(),a=(0,d.I0)();return(0,l.jsxs)("div",{className:"photo-main",children:[(0,l.jsx)(i,{title:"Amazing photo",backgroundUrl:c.PINK_BG}),(0,l.jsxs)(r.W2,{className:"text-center",children:[(0,l.jsx)("div",{className:"py-5",children:(0,l.jsx)(s.rU,{to:"add",children:"Add new photo"})}),(0,l.jsx)(m,{onPhotoRemoveClick:function(e){var o=e.id,n=(0,x.Nm)(o);a(n)},onPhotoEditClick:function(e){var o="/photos/".concat(e.id);n(o)},photoList:o})]})]})},f=n(1413),j=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],b=n(5705);function g(e){var o=e.field,n=e.form,t=e.type,a=e.label,i=e.placeholder,s=e.disabled,c=o.name,d=n.errors,u=n.touched,h=d[c]&&u[c];return(0,l.jsxs)(r.cw,{children:[a&&(0,l.jsx)(r.__,{for:c,children:a}),(0,l.jsx)(r.II,(0,f.Z)((0,f.Z)({id:c},o),{},{disabled:s,placeholder:i,type:t,invalid:h})),(0,l.jsx)(b.Bc,{component:r.AG,name:c})]})}g.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var _=g,k=n(4289);function C(e){var o=e.field,n=e.form,t=e.label,a=e.options,i=e.placeholder,s=e.disabled,c=o.name,d=o.value,u=a.find((function(e){return e.value===d})),h=n.errors,p=n.touched,m=h[c]&&p[c];return(0,l.jsxs)(r.cw,{children:[t&&(0,l.jsx)(r.__,{for:c,children:t}),(0,l.jsx)(k.ZP,(0,f.Z)((0,f.Z)({id:c},o),{},{value:u,onChange:function(e){var n=e?e.value:e,t={target:{name:c,value:n}};o.onChange(t)},disabled:s,options:a,placeholder:i,className:m?"is-invalid":""})),(0,l.jsx)(b.Bc,{component:r.AG,name:c})]})}C.defaultProps={label:"",placeholder:"",options:[],disabled:!1};var N=C;P.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBLur:null};function P(e){var o=e.name,n=e.imageUrl,t=e.onRandomButtonBLur,a=e.onImageUrlChange,i=function(){if(a){var e=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")}();a(e)}};return(0,l.jsxs)("div",{className:"random-photo",children:[(0,l.jsx)("div",{className:"random-photo__button",children:(0,l.jsx)(r.zx,{outline:!0,name:o,color:"primary",onBlur:t,onClick:i,children:"Random Photo"})}),(0,l.jsx)("div",{className:"random-photo__photo",children:n&&(0,l.jsx)("img",{onError:i,src:n,alt:"ooop... not found"})})]})}var y=P;function R(e){var o=e.field,n=e.form,t=e.label,a=o.name,i=o.value,s=o.onBlur,c=n.errors,d=n.touched,u=c[a]&&d[a];return(0,l.jsxs)(r.cw,{children:[t&&(0,l.jsx)(r.__,{for:a,children:t}),(0,l.jsx)(y,{name:a,imageUrl:i,onImageUrlChange:function(e){n.setFieldValue(a,e)},onRandomButtonBlur:s}),(0,l.jsx)("div",{className:u?"is-invalid":""}),(0,l.jsx)(b.Bc,{name:a,component:r.AG})]})}R.defaultProps={label:""};var B=R,U=n(132);function A(e){var o=e.initialValues,n=e.isAddMode,t=U.Ry().shape({title:U.Z_().required("this field is required"),categoryId:U.Rx().required("this field is required"),photo:U.Z_().required("this field is required")});return(0,l.jsx)(b.J9,{initialValues:o,onSubmit:e.onSubmit,validationSchema:t,children:function(e){var o=e.values,t=e.errors,a=e.touched,i=e.isSubmitting;return console.log({values:o,errors:t,touched:a}),(0,l.jsxs)(b.l0,{children:[(0,l.jsx)(b.Rt,{name:"title",component:_,label:"Title",placeholder:"Eg: wow ..."}),(0,l.jsx)(b.Rt,{name:"categoryId",component:N,placeholder:"what's your photo category",label:"Category",options:j}),(0,l.jsx)(b.Rt,{name:"photo",component:B,label:"Photo"}),(0,l.jsx)(r.cw,{children:(0,l.jsxs)(r.zx,{type:"submit",color:n?"primary":"success",children:[i&&(0,l.jsx)(r.$j,{size:"sm"}),n?"Add to album":"Update your photo"]})})]})}})}A.defaultProps={onSubmit:null};var I=A;var E=function(e){var o=(0,d.I0)(),n=(0,t.s0)(),a=(0,t.UO)().photoId,r=!a,s=(0,d.v9)((function(e){return e.photos.find((function(e){return e.id===+a}))})),u=r?{title:"",categoryId:null,photo:""}:s;return(0,l.jsxs)("div",{className:"photo-edit",children:[(0,l.jsx)(i,{title:"Pick your amazing photo",backgroundUrl:c.ORANGE_BG}),(0,l.jsx)("div",{className:"photo-edit__form",children:(0,l.jsx)(I,{onSubmit:function(e){return new Promise((function(t){setTimeout((function(){if(r){var l=(0,f.Z)((0,f.Z)({},e),{},{id:(s=1e4,c=99999,s+Math.trunc(Math.random()*(c-s)))}),a=(0,x.ZE)(l);o(a)}else{var i=(0,x.tU)(e);o(i)}var s,c;n("/photos/"),t(!0)}),1e3)}))},isAddMode:r,initialValues:u})})]})},Z=n(6203);var w=function(e){return(0,l.jsxs)(t.Z5,{children:[(0,l.jsx)(t.AW,{path:"/",element:(0,l.jsx)(v,{})}),(0,l.jsx)(t.AW,{path:"add",element:(0,l.jsx)(E,{})}),(0,l.jsx)(t.AW,{path:":photoId",element:(0,l.jsx)(E,{})}),(0,l.jsx)(t.AW,{path:"*",element:(0,l.jsx)(Z.Z,{})})]})}},2565:function(e,o,n){e.exports=n.p+"static/media/blue-bg.93b683dcd7c104e108ed.jpg"},7622:function(e,o,n){e.exports=n.p+"static/media/colorful-bg.95c0fb342777f6d1bc88.jpg"},4622:function(e,o,n){e.exports=n.p+"static/media/orange-bg.a98c2734b4299e305b7f.jpg"},5605:function(e,o,n){e.exports=n.p+"static/media/pink-bg.d6dafc0aa74a3594ed43.jpg"}}]);
//# sourceMappingURL=31.2fd0d101.chunk.js.map