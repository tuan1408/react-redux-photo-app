"use strict";(self.webpackChunkreact_redux_photo_app=self.webpackChunkreact_redux_photo_app||[]).push([[31],{1031:function(e,o,t){t.r(o),t.d(o,{default:function(){return w}});t(2791);var n=t(6871),l=t(184);function i(e){var o=e.title,t=e.backgroundUrl,n=t?{backgroundImage:"url(".concat(t,")")}:{};return(0,l.jsx)("section",{className:"banner",style:n,children:(0,l.jsx)("h1",{className:"banner__title",children:o})})}i.defaultProps={title:"",backgroundUrl:""};var a=i,r=t(7121),s=t(3504),c={ORANGE_BG:t(4622),BLUE_BG:t(2565),COLORFUL_BG:t(7622),PINK_BG:t(5605)},d=t(6030);function u(e){var o=e.photo,t=e.onEditClick,n=e.onRemoveClick;console.log("test 3",o);return(0,l.jsxs)("div",{className:"photo",children:[(0,l.jsx)("img",{src:o.photo,alt:o.title}),(0,l.jsxs)("div",{className:"photo__overlay",children:[(0,l.jsx)("h3",{className:"photo__title",children:o.title}),(0,l.jsxs)("div",{className:"photo__actions",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r.zx,{outline:!0,size:"sm",color:"light",onClick:function(){console.log("test",o),t&&t(o)},children:"Edit"})}),(0,l.jsx)("div",{children:(0,l.jsx)(r.zx,{outline:!0,size:"sm",color:"danger",onClick:function(){n&&n(o)},children:"Remove"})})]})]})]})}u.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var h=u;function p(e){var o=e.photoList,t=e.onPhotoEditClick,n=e.onPhotoRemoveClick;return console.log("test 2",{photoList:o}),(0,l.jsx)(r.X2,{children:o.map((function(e){return(0,l.jsx)(r.JX,{xs:"12",md:"6",lg:"3",children:(0,l.jsx)(h,{onRemoveClick:n,onEditClick:t,photo:e})},e.title)}))})}p.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var m=p,x=t(1408);var v=function(e){var o=(0,d.v9)((function(e){return e.photos})),t=(0,n.s0)(),i=(0,d.I0)();return(0,l.jsxs)("div",{className:"photo-main",children:[(0,l.jsx)(a,{title:"Amazing photo",backgroundUrl:c.PINK_BG}),(0,l.jsxs)(r.W2,{className:"text-center",children:[(0,l.jsx)("div",{className:"py-5",children:(0,l.jsx)(s.rU,{to:"add",children:"Add new photo"})}),(0,l.jsx)(m,{onPhotoRemoveClick:function(e){var o=e.id,t=(0,x.Nm)(o);i(t)},onPhotoEditClick:function(e){console.log("edit",e);var o="/photos/".concat(e.id);t(o)},photoList:o})]})]})},f=t(1413),j=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],b=t(5705);function g(e){var o=e.field,t=e.form,n=e.type,i=e.label,a=e.placeholder,s=e.disabled,c=o.name,d=t.errors,u=t.touched,h=d[c]&&u[c];return(0,l.jsxs)(r.cw,{children:[i&&(0,l.jsx)(r.__,{for:c,children:i}),(0,l.jsx)(r.II,(0,f.Z)((0,f.Z)({id:c},o),{},{disabled:s,placeholder:a,type:n,invalid:h})),(0,l.jsx)(b.Bc,{component:r.AG,name:c})]})}g.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var _=g,k=t(4289);function C(e){var o=e.field,t=e.form,n=e.label,i=e.options,a=e.placeholder,s=e.disabled,c=o.name,d=o.value,u=i.find((function(e){return e.value===d})),h=t.errors,p=t.touched,m=h[c]&&p[c];return(0,l.jsxs)(r.cw,{children:[n&&(0,l.jsx)(r.__,{for:c,children:n}),(0,l.jsx)(k.ZP,(0,f.Z)((0,f.Z)({id:c},o),{},{value:u,onChange:function(e){var t=e?e.value:e,n={target:{name:c,value:t}};o.onChange(n)},disabled:s,options:i,placeholder:a,className:m?"is-invalid":""})),(0,l.jsx)(b.Bc,{component:r.AG,name:c})]})}C.defaultProps={label:"",placeholder:"",options:[],disabled:!1};var N=C;P.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBLur:null};function P(e){var o=e.name,t=e.imageUrl,n=e.onRandomButtonBLur,i=e.onImageUrlChange,a=function(){if(i){var e=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")}();i(e)}};return(0,l.jsxs)("div",{className:"random-photo",children:[(0,l.jsx)("div",{className:"random-photo__button",children:(0,l.jsx)(r.zx,{outline:!0,name:o,color:"primary",onBlur:n,onClick:a,children:"Random Photo"})}),(0,l.jsx)("div",{className:"random-photo__photo",children:t&&(0,l.jsx)("img",{onError:a,src:t,alt:"ooop... not found"})})]})}var y=P;function R(e){var o=e.field,t=e.form,n=e.label,i=o.name,a=o.value,s=o.onBlur,c=t.errors,d=t.touched,u=c[i]&&d[i];return(0,l.jsxs)(r.cw,{children:[n&&(0,l.jsx)(r.__,{for:i,children:n}),(0,l.jsx)(y,{name:i,imageUrl:a,onImageUrlChange:function(e){t.setFieldValue(i,e)},onRandomButtonBlur:s}),(0,l.jsx)("div",{className:u?"is-invalid":""}),(0,l.jsx)(b.Bc,{name:i,component:r.AG})]})}R.defaultProps={label:""};var B=R,U=t(132);function A(e){var o=e.initialValues,t=e.isAddMode,n=U.Ry().shape({title:U.Z_().required("this field is required"),categoryId:U.Rx().required("this field is required"),photo:U.Z_().required("this field is required")});return(0,l.jsx)(b.J9,{initialValues:o,onSubmit:e.onSubmit,validationSchema:n,children:function(e){var o=e.values,n=e.errors,i=e.touched,a=e.isSubmitting;return console.log({values:o,errors:n,touched:i}),(0,l.jsxs)(b.l0,{children:[(0,l.jsx)(b.Rt,{name:"title",component:_,label:"Title",placeholder:"Eg: wow ..."}),(0,l.jsx)(b.Rt,{name:"categoryId",component:N,placeholder:"what's your photo category",label:"Category",options:j}),(0,l.jsx)(b.Rt,{name:"photo",component:B,label:"Photo"}),(0,l.jsx)(r.cw,{children:(0,l.jsxs)(r.zx,{type:"submit",color:t?"primary":"success",children:[a&&(0,l.jsx)(r.$j,{size:"sm"}),t?"Add to album":"Update your photo"]})})]})}})}A.defaultProps={onSubmit:null};var I=A;var E=function(e){var o=(0,d.I0)(),t=(0,n.s0)(),i=(0,n.UO)().photoId,r=!i,s=(0,d.v9)((function(e){return e.photos.find((function(e){return e.id===+i}))})),u=r?{title:"",categoryId:null,photo:""}:s;return(0,l.jsxs)("div",{className:"photo-edit",children:[(0,l.jsx)(a,{title:"Pick your amazing photo",backgroundUrl:c.ORANGE_BG}),(0,l.jsx)("div",{className:"photo-edit__form",children:(0,l.jsx)(I,{onSubmit:function(e){return new Promise((function(n){console.log("formsubmit",e),setTimeout((function(){if(r){var l=(0,f.Z)((0,f.Z)({},e),{},{id:(s=1e4,c=99999,s+Math.trunc(Math.random()*(c-s)))}),i=(0,x.ZE)(l);o(i)}else{var a=(0,x.tU)(e);o(a)}var s,c;t("/photos/"),n(!0)}),1e3)}))},isAddMode:r,initialValues:u})})]})},Z=t(6203);var w=function(e){return(0,l.jsxs)(n.Z5,{children:[(0,l.jsx)(n.AW,{path:"/",element:(0,l.jsx)(v,{})}),(0,l.jsx)(n.AW,{path:"add",element:(0,l.jsx)(E,{})}),(0,l.jsx)(n.AW,{path:":photoId",element:(0,l.jsx)(E,{})}),(0,l.jsx)(n.AW,{path:"*",element:(0,l.jsx)(Z.Z,{})})]})}},2565:function(e,o,t){e.exports=t.p+"static/media/blue-bg.93b683dcd7c104e108ed.jpg"},7622:function(e,o,t){e.exports=t.p+"static/media/colorful-bg.95c0fb342777f6d1bc88.jpg"},4622:function(e,o,t){e.exports=t.p+"static/media/orange-bg.a98c2734b4299e305b7f.jpg"},5605:function(e,o,t){e.exports=t.p+"static/media/pink-bg.d6dafc0aa74a3594ed43.jpg"}}]);
//# sourceMappingURL=31.b0ee5f74.chunk.js.map